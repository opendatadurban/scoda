"use strict";(self.webpackChunkocl_bb_library=self.webpackChunkocl_bb_library||[]).push([[5686],{95686:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(67294),n=r(13174),o=r(92202);r(17730),r(60622);var l=r(68313),c=r(11741),s=r(50450),i=r(32985),u=r(78648),d=r(96486),m=r.n(d);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,c=[],s=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=o.call(r)).done)&&(c.push(a.value),c.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw n}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(44448);var y={control:function(e){return v(v({},e),{},{border:"1px solid #4A4A4A",borderRadius:"28px",boxShadow:"none","&:hover":{border:"1px solid #4A4A4A",borderRadius:"28px"}})}};const E=function(){var e=h((0,a.useState)([]),2),t=e[0],r=e[1],n=h((0,a.useState)([]),2),o=n[0],d=n[1],f=h((0,a.useState)([]),2),b=f[0],p=f[1],v=h((0,a.useState)([]),2),g=v[0],E=v[1],N=h((0,a.useState)([]),2),_=N[0],w=N[1],S=h((0,a.useState)([]),2),k=S[0],x=S[1],j=function(e){switch(e){case 0:return"#B7E0DE";case 1:return"#6ABFBB";case 2:return"#2D9B96";default:return"#0F7671"}},C=function(e){switch(e){case 0:return"#FFD0B7";case 1:return"#FFAD81";case 2:return"#EE702D";default:return"#D44F08"}},D=function(e){switch(e){case"Buffalo City":return"BUF";case"City of Cape Town":return"CPT";case"City of Joburg":return"JHB";case"Ekurhuleni":return"EKU";case"Mangaung":return"MAN";case"Msunduzi":return"MSU";case"Nelson Mandela Bay":return"NMA";case"Tshwane":return"TSH";case"eThekwini":return"ETH"}},O=function(e,t,r,a){for(var n=m().map(r,"value"),o=[],l=2e3,c=0;l<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===l.toString()})).length>0){for(var s=e.filter((function(e){return e[1]===l.toString()})),i=[],u=0;u<s.length;u++){var d=D(s[u][0]);n.includes(d)&&(s[u][0]=d,i.push(s[u][2]),s[u][2]&&s[u][2])}o.push({year:l,data:s,labels:[],values:i,color:a(c)}),c+=1}l+=1}t(o)},P=function(e,t){u.Z.get(e).then((function(e){t(e.data.table)}))},A=function(e){for(var t=[],a=2e3,n=0;a<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===a.toString()})).length>0){for(var o=e.filter((function(e){return e[1]===a.toString()})),l=[],c=[],s=0;s<o.length;s++)o[s][0]=D(o[s][0]),l.push({label:o[s][0],value:o[s][0]}),c.push(o[s][2]),o[s][2]&&o[s][2];t.push({year:a,labels:l,values:c,color:j(n)}),r(l),d(t),x(l),n+=1}a+=1}d(t)},T=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=D(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:C(a)}),a+=1}r+=1}E(t)},F=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=D(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:j(a)}),a+=1}r+=1}p(t)},Z=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=D(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:C(a)}),a+=1}r+=1}w(t)};return(0,a.useEffect)((function(){P("/api/explore/codebook?indicator_id=989",A),P("/api/explore/codebook?indicator_id=985",T),P("/api/explore/codebook?indicator_id=987",F),P("/api/explore/codebook?indicator_id=983",Z)}),[]),a.createElement("div",null,o.length<1&&b.length<1&&g.length<1&&_.length<1?a.createElement(s.u_,{id:"loader",isOpen:o.length<1&&b.length<1&&g.length<1&&_.length<1,className:"modal-dialog-centered loader"},a.createElement(s.fe,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-2"}),a.createElement("div",{className:"col-0 ml-3 pt-4"},a.createElement(s.$j,{type:"grow",color:"secondary",size:"sm"}),a.createElement(s.$j,{type:"grow",color:"success",size:"sm"}),a.createElement(s.$j,{type:"grow",color:"danger",size:"sm"}),a.createElement(s.$j,{type:"grow",color:"warning",size:"sm"})),a.createElement("div",{className:"col-0 pt-4 pl-4 float-left"},"Loading Content...")),a.createElement("br",null))):"",a.createElement("div",{className:"container-fluid charts_dashboards"},a.createElement("div",{className:"charts_dashboards--left_container p-0"},a.createElement("div",{className:"charts_dashboards--select"},a.createElement("div",{className:"charts_dashboards--select-container"},a.createElement(l.ZP,{id:"multiple",name:"filters",placeholder:"Filter City",value:k,options:t,onChange:function(e){x(e),d([]),E([]),w([]),p([]),u.Z.get("/api/explore/codebook?indicator_id=989").then((function(t){O(t.data.table,d,e,j)})),u.Z.get("/api/explore/codebook?indicator_id=989").then((function(t){O(t.data.table,E,e,C)})),u.Z.get("/api/explore/codebook?indicator_id=987").then((function(t){O(t.data.table,p,e,j)})),u.Z.get("/api/explore/codebook?indicator_id=983").then((function(t){O(t.data.table,w,e,C)}))},isMulti:!0,styles:y}))),a.createElement("div",{className:"charts_dashboards--barcharts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"National Election: Voter Turnout")),a.createElement("div",{className:"col-md-3"},a.createElement(c.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/989",target:"_blank"}))),a.createElement(i.Z,{height:50,data:{labels:m().map(k,"label"),datasets:o.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:2e5,hundred:!0,divide:1e3,x_label:"Number of People"}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"National Election: Registered Voters")),a.createElement("div",{className:"col-md-3"},a.createElement(c.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/985",target:"_blank"}))),a.createElement(i.Z,{height:50,data:{labels:m().map(k,"label"),datasets:g.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:5e5,hundred:!0,divide:1e3,x_label:"Number of People"})))),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"Local Election: Voter Turnout")),a.createElement("div",{className:"col-md-3"},a.createElement(c.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/987",target:"_blank"}))),a.createElement(i.Z,{height:50,data:{labels:m().map(k,"label"),datasets:b.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:5e5,hundred:!0,divide:1e3,x_label:"Number of People"}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"Local Election: Registered Voters")),a.createElement("div",{className:"col-md-3"},a.createElement(c.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/983",target:"_blank"}))),a.createElement(i.Z,{height:50,data:{labels:m().map(k,"label"),datasets:_.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:2e5,hundred:!0,divide:1e3,x_label:"Number of People"}))))))),a.createElement("div",{className:"spacer"}))},N=function(){return a.createElement("div",{className:"sorc_dashboards"},a.createElement("div",{className:"spacer--top"}),a.createElement(o.default,{name:"State of Cities Reports",dropdownName:"Citizen Engagement",dropDownItem:{dropdownMenu:[{name:"Service Delivery",href:"socr#/service_delivery",active:!1},{name:"Citizen Engagement",href:"socr#/citizen_engagement",active:!0},{name:"Municipal Human Resources",href:"socr#/human_resources",active:!1},{name:"People and Households",href:"socr#/people_household",active:!1},{name:"Employment",href:"socr#/employment",active:!1},{name:"Dwellings",href:"socr#/dwellings",active:!1},{name:"Household Income",href:"socr#/household_income",active:!1},{name:"Food Security, Literacy and Inequality",href:"socr#/food_security",active:!1},{name:"Life Expectancy and Health",href:"socr#/life_expectancy",active:!1},{name:"Education",href:"socr#/education",active:!1},{name:"Sustainability",href:"socr#/sustainability",active:!1},{name:"ICT Infrastructure",href:"socr#/infrastructure",active:!1},{name:"Transport Mode",href:"socr#/transport_mode",active:!1},{name:"Public Transport Spend",href:"socr#/public_transport_spend",active:!1},{name:"Travel Time",href:"socr#/travel_time",active:!1}]},buttonText:"Download as PNG"}),a.createElement(n.default,null),a.createElement("div",{id:"content",className:"sorc_dashboards sorc_dashboards--citizen_engagement"},a.createElement(E,null)))}}}]);